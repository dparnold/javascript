<!DOCTYPE html>
<html>
<link rel="stylesheet" type="text/css" href="style.css">

<body>
    <script>
        var running = false;
    </script>
    <h2>Timer App</h2>
    <div class="timerform">
        <form action="" name="timer" method="GET">
            <label for="minutes">Minutes: </label>
            <input type="text" id="minutes" name="minutes" value=0><br><br>
            <label for="seconds">seconds: </label>
            <input type="text" id="seconds" name="seconds" value=3><br><br>
            <input type="button" id="button" onclick="runTimer(this)" value="Start">
        </form>
    </div>
    <div class="timer">
        <p id="count">Press "Start" to start the timer.</p>
    </div>


    <script>
        counterText = document.getElementById("count");
        function runTimer(b) {
            var min = document.forms["timer"]["minutes"].value;
            if(min==""){
                min=0;
            }
            var sec = document.forms["timer"]["seconds"].value;
            if (b.interval) {
                clearInterval(b.interval);
                b.interval = undefined;
                b.value = "Start"
                counterText.innerHTML = "Press \"Start\" to start the timer.";
            }
            else {
                counterText.innerHTML = min + " : " + sec;
                b.interval = setInterval(function () {
                    if (document.getElementById("button").value == "Stop") {
                        counterText.innerHTML = "";
                    }
                    if (sec == 0) {
                        if (min == 0) {
                            counterText.innerHTML = "Counter beendet";
                            clearInterval(b.interval);
                            b.value = "Start"
                            b.interval = undefined;
                            var audio = new Audio('ring.mp3');
                            audio.loop = false;
                            audio.play();
                        }
                        else {
                            sec = 59;
                            min = min - 1;
                            counterText.innerHTML = min + " : " + sec;
                        }
                    }
                    else {
                        sec = sec - 1;
                        counterText.innerHTML = min + " : " + sec;
                    }
                }, 1000);
                b.value = "Stop";
            }

            if (sec == "" && min == "") {
                alert("You must at least enter some values");
                return false;
            }
        }
    

    </script>
</body>

</html>